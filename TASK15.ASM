;PROGRAM TO FIND THE LARGEST NUMBER IN ARRAY
DOSSEG

PRINT MACRO P1
    MOV DX, OFFSET P1
    MOV AH, 9
    INT 21H
ENDM

.MODEL SMALL
.STACK 100H
.DATA
    M1 DB 'ENTER ARRAY LENGTH: $'
    M2 DB 'ENTER ARRAY ELEMENTS: $'
    M3 DB 'THE LARGEST ELEMENT IS: $'
    LGT DW 0
    ARR DB 20 DUP (?)
    MAX DB ?
.CODE
MAIN PROC
    MOV AX, @DATA
    MOV DS, AX

    PRINT M1
    MOV AH, 1
    INT 21H
    SUB AL, 48
    MOV CL, AL
    MOV LGT, CX  

    CALL ENTERKEY      

    PRINT M2
    MOV SI, OFFSET ARR
    MOV CX, LGT
INPUT_LOOP:
    MOV AH, 1
    INT 21H
    SUB AL, 48
    MOV [SI], AL
    INC SI
    LOOP INPUT_LOOP

    
    MOV SI, OFFSET ARR
    MOV AL, [SI]  
    MOV MAX, AL
    MOV CX, LGT
OUTER_LOOP:
    INC SI  
    MOV AL, [SI]
    CMP AL, MAX
    JBE NOT_LARGEST  
    MOV MAX, AL
NOT_LARGEST:
    LOOP OUTER_LOOP

    CALL ENTERKEY
    PRINT M3
    MOV DL, MAX
    ADD DL, 48
    MOV AH, 2
    INT 21H

    MOV AH, 4CH
    INT 21H

MAIN ENDP

ENTERKEY PROC
    MOV DX,10
    MOV AH,2
    INT 21H
    MOV DX,13
    MOV AH,2
    INT 21H
    RET
ENTERKEY ENDP

END MAIN
